buildcurl() {
	local cache_dir="$CACHE_DIR/buildcurl"
	local binary=$(basename $1 .tar.gz)
	local recipe=${binary/-*/}
	local version=${binary/*-/}
	local out_prefix="/app/.heroku/python"
	local output=$(mktemp)
	mkdir -p "$cache_dir"
	if [ ! -f $cache_dir/$binary.tar.gz ]; then
		echo "       Compiling $binary for the first time might take a few minutes..." 1>&2
		curl -GL --fail --retry 3 ${BUILDCURL_URL:="buildcurl.com"} \
			-d recipe=$recipe -d version=$version -d target=$TARGET -d prefix=$out_prefix \
			-o $cache_dir/$binary.tar.gz
	fi
	cat $cache_dir/$binary.tar.gz
}
